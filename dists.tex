\input{chpreamble}
  \chapter{Distributions}
  \label{ch:dist}
  
  With a firm grasp of the topology of \S, we now turn back to topological issues.
  Recall from \cref{sec:tempdist} that continuous linear dual of \S is the space of \emph{tempered distributions}:
  \begin{align*}
    \S^* = \{f:\S\rightarrow\C\,\vert\,f\text{ is continuous and linear}\}
  \end{align*}
  This definition is now fully sensible, as we know what it means to be a continuous functional on \S.
  Recall the mapping taking a test function $\varphi$ to the integration-against-$\varphi$ functional on \S:
  \begin{align*}
    \varphi \longmapsto \left( \phi \mapsto \int_{x\in\R} \varphi(x) \phi(x)\,dx \right)
  \end{align*}
  We hope that this map takes elements of \S into elements of $\S^*$, as we might expect it to.
  \begin{thm}
    The integration-against functional is continuous and linear.
    Thus, the mapping above gives an inclusion $\S\rightarrow\S^*$.
  \end{thm}
  \begin{proof}
    Linearity follows trivially from the definition.
    Thus we need only show that small inputs give small outputs, and continuity everywhere will follow from linearity.
    Fix some $\varphi\in\S$ and let $\{\phi_i\}$ be a sequence in \S approaching the zero function (which is trivially Schwartz).
    See that
    \begin{align*}
      |\langle\varphi,\phi_i\rangle| 
%      &= \left|\int_{x\in\R} \varphi(x)\phi_i(x)\,dx\right|
      &\le \int_{x\in\R}| \varphi(x)\phi_i(x)|\,dx
      \\&\le |\phi_i|_{C^k_\ell}\cdot\int_{x\in\R}|\varphi(x)|\,dx
    \end{align*}
    for any $k$ and $\ell$, by definition of the $C^k_\ell$ norm.
    Because $\{\phi_i\}$ approaches zero in \S, we see that $\{|\phi_i|_{C^k_\ell}\}$ also approaches zero.
    Thus the sequence $\{\langle\varphi,\phi_i\rangle\}$ approaches zero in \C, so the functional is continuous.
  \end{proof}

  The continuity of the integration-against functional shows that each Schwartz function corresponds naturally to a tempered distribution.
  In \cref{sec:tempdist} we saw that this inclusion allowed us to define the Fourier transform for any $f\in\S^*$ by the formula
  \begin{align*}
    \langle\F f, \varphi\rangle &= \langle f, \F\varphi\rangle
  \end{align*}
  for $\varphi\in\S$.
  
  We may define the derivative of a tempered distribution similarly.
  For Schwartz functions $f$ and $\varphi$, apply integration by parts and observe that $f\varphi$ vanishes at infinity:
  \begin{align*}
    \langle f', \varphi\rangle
    &= [f(x)\varphi(x)]_{-\infty}^\infty -\int_{x\in\R} f(x)\varphi'(x)\,dx
    = -\langle f,\varphi'\rangle\text{.}
  \end{align*}
  \begin{defn}
    For a tempered distribution $u$, the distributional derivative of $u$ (denoted as usual by $u'$) is given by
    \begin{align*}
      \langle u', \varphi\rangle = -\langle u, \varphi'\rangle
    \end{align*}
    for any Schwartz function $\varphi$.
    When $u$ corresponds to a Schwartz function $f$, the distribution $u'$ visibly corresponds to the derivative $f'\in\S$ by the calculation above. 
  \end{defn}
  
  As with the Fourier Transform, the definition of the distributional derivative extends good properties of \S to all of $\S^*$.
  It is immediately obvious that any tempered distribution has infinitely many derivatives which are all themselves tempered distributions.
  We might also expect that, as on $\S$, the differentiation map is continuous on $\S^*$, but this involves topology on $S^*$, which we have not yet developed.
  We thus give the space of tempered distributions the so-called ``initial topology'', which allows us to carry topology from a space to its dual.
  \begin{defn}
    Let $X^*$ be the continuous linear dual of a topological space $X$.
    The initial topology on $X^*$ with respect to its linear dual, also called the \emph{weak-* topology} is the coarsest topology (the one with the fewest open sets) ensuring the continuity of the evaluation functionals
    \begin{gather*}
      X^*\longrightarrow\C\\
      u\mapsto \langle u,\varphi\rangle\qquad\text{for }\varphi\in X\text{.}
    \end{gather*}
  \end{defn}

  \begin{claim}
    The differentiation map $D:\SS\rightarrow\SS$ is continuous under the \ws.
  \end{claim}
  \begin{proof}
    Consider a sequence of tempered distributions $\{u_i\}$ that converges to zero.
    By definition of the \ws, we have for any Schwartz function $\varphi$, the sequence $\{\langle u_i,\varphi\rangle\}$ converges to zero by continuity of the evaluation-at-$\varphi$ functional.
    Thus the sequence $ \{\langle Du_i, \varphi\rangle\} = \{-\langle u_i, \varphi'\rangle\} \rightarrow 0 $ and so $\{Du_i\}\rightarrow 0$ in the \ws.
  \end{proof}

  \section{Approximation by Schwartz Functions}
    By definition, the \ws on \SS is generated by sets of the form 
    \begin{align*}
      \{u:\langle u,\varphi\rangle \in U\text{ where }\varphi\in\S,~U\text{ open in }\C\}
    \end{align*}
    which are inverse images of open sets in \C under the evaluation-at-$\varphi$ functional.
    In fact, because any open $V\subseteq\C$ is of the form $\bigcup_i B(z_i,r_i)$ for $z_i\in\C$ and $r_i>0$, we may replace the general open set $U$ with an open ball $B(z,r)$ for $z\in\C$ and $r>0$; the generated topology is unchanged, so we write that the \ws has a basis
    \begin{align*}
      \beta &=
      \{\{u:\langle u,\varphi\rangle \in B(z,r)\}:\varphi\in\S,~z\in\C,~r>0 \}\text{.}
    \end{align*}

    \begin{thm}
      \label{thm:sdenseinss}
      The space of Schwartz functions is dense\footnotemark in the space of tempered distributions.
    \end{thm}
    \footnotetext{Recall that a subset $A$ of a topological space $X$ is called \emph{dense in $X$} if for any $x\in X$, every neighborhood of $x$ contains an element of $A$.}
    \begin{proof}
      Let $u\in\SS$.
      Let $\phi$ be some Schwartz function with integral 1, so that for any $n$, the function $x\mapsto n\phi(nx) \call \phi_n$ has integral 1, so $\{\phi_n\}\rightarrow\delta$.
      Thus the sequence of mollifications $\{u*\phi_n\}$ approximates $u$ in the \ws because for all $\psi\in\S$, 
      \begin{align*}
        \langle u*\phi_n, \psi\rangle = \langle u, \tilde{\phi}_n*\psi\rangle \underset{n}{\longrightarrow} \langle u,\psi\rangle
      \end{align*}
      where $\tilde\phi(x) = \phi(-x)$.

      Each $u*\phi_n$ is Schwartz by properties of convolution, so because $u$ was arbitrary, \S is dense in \SS.
    \end{proof}
    \todo{introduce convolution on $\SS{\times}\S$ (using \cref{defn:convolution}) before we use it}

\end{document}

\documentclass[12pt]{reedthesis}

% Draft compiling options
\usepackage[draft]{ifdraft}
\newcommand{\todo}[1]{\textcolor{red}{\ifdraft{@TODO: #1}{\GenericWarning{}{! Custom Error: Unaddressed TODO!}}}}

% Start my packages here
\usepackage{setspace}
\usepackage[final]{graphicx} %final so that draft options don't mess w/ images
\usepackage[final]{microtype}
\usepackage{amsmath,amssymb}
\usepackage{pdfsync}
\usepackage[hyphens]{url}
\usepackage{natbib}
\usepackage{sagetex/sagetex}
\usepackage{xspace}
\usepackage{subfiles}
\usepackage{xcolor}

\usepackage[utopia]{quotchap}
\colorlet{chaptergrey}{black}

\usepackage{framed}
\usepackage[amsmath, thmmarks, thref, framed, hyperref]{ntheorem}
\usepackage[ntheorem]{mdframed}
\usepackage[final]{hyperref}
\hypersetup{linkbordercolor={0 1 0}}

\usepackage{xypic}

\usepackage{enumitem}
\setlist{itemsep=2pt,parsep=0pt,topsep=5pt}

% Import version control definitions
\input{vc.tex}

% Draft revision footer
\newcommand{\draftid}{DRAFT rev. \VCRevisionMod\ -- \VCDateRAW}

% Define a new style for the url package that will use a smaller font.
\makeatletter
\def\url@leostyle{%
  \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
\makeatother
\urlstyle{leo}

% Math symbols
\DeclareMathOperator{\spt}{spt}
\newcommand{\R}{\ensuremath{\mathbb{R}}\xspace}
\newcommand{\C}{\ensuremath{\mathbb{C}}\xspace}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}\xspace}
\newcommand{\D}{\ensuremath{\mathcal{D}}\xspace}
\newcommand{\F}{\ensuremath{\mathcal{F}}\xspace}
\renewcommand{\S}{\ensuremath{\mathcal{S}}\xspace}

% Theorem-like environments
\theoremstyle{break}
\theoremseparator{.}
\newtheorem{thm}{Theorem}[chapter]
\surroundwithmdframed[%
  skipabove=0.5\baselineskip,
  ]{thm}

\theoremstyle{plain}
\theorembodyfont{\normalfont}

\newtheorem{lemma}[thm]{Lemma}
\newtheorem{claim}[thm]{Claim}

\newtheorem{rmk}{Remark}[chapter]
\newtheorem{example}{Example}[chapter]

\newtheorem{defn}{Definition}[chapter]
\surroundwithmdframed[%
  topline=false,
  rightline=false,
  bottomline=false,
  skipabove=0.5\baselineskip,
  linewidth=1pt
  ]{defn}

% Proof-like environments
\theorembodyfont{\normalfont}
\theoremsymbol{\makebox[-.1em][l]{\ensuremath{\Box}}} % Set QED outside margin
\newtheoremstyle{proof} % Define a new style with italic header and upright body
  {\item[\hskip\labelsep \it ##1.]}%
  {\item[\hskip\labelsep \it ##3.]}
\theoremstyle{proof}
\newtheorem{proof}{Proof}

% Metadata
\title{Functions on the Line}
\author{Seth Just}
\date{May 2012}
\division{Mathematics and Natural Sciences}
\advisor{Jerry Shurman}
\department{Mathematics}

% Lengths
\setlength{\parskip}{0pt}
\setlength{\headheight}{15pt}

\begin{document}
  \maketitle
  \frontmatter

  \pagestyle{empty} % this removes page numbers from the frontmatter
  \ifdraft{
    \fancypagestyle{plain}{%
      \fancyhead{}
      \renewcommand\headrulewidth{0pt}
      \fancyfoot[CO,CE]\draftid
    }
    \fancyfoot[CO,CE]\draftid
  }{ }

  \input{ack}

  \tableofcontents
%  \listoffigures

  \onehalfspacing
  \input{abstract}

  \mainmatter

  \pagestyle{fancy} % turns page numbering back on

  % Content
  \subfile{intro}
  \subfile{fourier}
  \subfile{schwartz}
%  \subfile{tfcns}
%  \subfile{dists}
%  \input{conclusion}

  \appendix

  \backmatter
  \singlespacing
  \raggedright

  \ifdraft{\nocite{*}}{}

%  \renewcommand{\bibname}{Bibliography}
  \bibliographystyle{myplain} 
  \bibliography{thesis}

\end{document}

\input{chpreamble}
  \begin{savequote}
    ``May the Schwartz be with you!''
    \qauthor{--Yogurt, Space Balls}
  \end{savequote}
  \chapter{Topology on Schwartz Functions}
    \label{ch:topons}
    Our development of Schwartz functions and tempered distributions showed that these spaces have nice properties with regard to the Fourier transform.
    However, our discussion has mainly concerned itself with set-theoretic notions---that is, with the properties of elements of these spaces.
    We hope that these spaces are also nicely behaved with regard to \emph{topological} properties such as limits and continuity.
    Particularly, understanding \S as a topological space allows us to easily understand $\S^*$, as duals of topological spaces are well understood.

    \section{Spaces of Functions}
      \label{sec:spcoffunc}
      We are interested in \emph{topology} on spaces of functions, with the goal of finding a topology for the space of distributions.
      Recall:
      \begin{defn}
        A \emph{topological space} is a set $X$ and a set $\tau$ of subsets of $X$ that satisfies:
        \begin{itemize}
          \item The empty set $\emptyset$ and the whole space $X$ are elemets of $\tau$,
          \item $\tau$ is closed under arbitrary union,
          \item $\tau$ is closed under finite intersection.
        \end{itemize}
        We call $\tau$ a \emph{topology on $X$}.

        Given a set $X$ with a \emph{metric} $d:X^2\rightarrow\R$, we take all sets of the form $\{x\in X:d(x,y)<\alpha\}$ for $y\in X$ and $\alpha\in\R$ as a basis for a set $\tau_d$, which is verifiably a topology on $X$.
      \end{defn}

      Working with this definition for arbitrary sets is not fun---it is only by taking advantage of additional structure on $X$ (such as a metric) that the topology is easily understood, in part because it allows us to apply physical intuition about \emph{size}. 
      We hope that we can find some structure in spaces of functions that will allow us to easily understand the topologies we work with.
      Recall:
      \begin{defn}
        A \emph{norm} on a vectorspace $X$ over a field $F$ is a function
        \begin{align*}
          |\cdot|_X:X\longrightarrow\R
        \end{align*}
        that satisfies for all $x,y\in X$, $a\in F$:
        \begin{itemize}
          \item Positive Scalability: $|ax|_X=|a|\cdot|x|_X$
          \item Triangle Inequality: $|x+y|_X\le|x|_X+|y|_X$
          \item Separation of points: $|x|_X=0\Longleftrightarrow x=0_X$.
        \end{itemize}
        Notationally, some subscripts are dropped and we distinguish between a norm and the real absolute-value function by context.
      \end{defn}

      Now suppose that $X$ is a normed vectorspace over $\C$.
      We define a metric on $X$ by $d(x,y)=|x-y|$, and so can define a topology on $X$ by means of this metric.
      This construction is particularly useful in our context, as sets of functions \emph{naturally} form vectorspaces over \C, by defining operations pointwise:
      \begin{align*}
        (f+g)(x) &= f(x)+g(x)\\
        (a\cdot f)(x) &= a\cdot f(x)
      \end{align*}
      As such, we need only introduce a concept of size (via a \emph{norm}) on functions in order to get a topology on a set of functions (supposing it is closed under vectorspace operations).
      Importantly though, we care much more about the resulting \emph{topology} than we do about the norm, as topology is a more general (and relevant) concept.

      Consider the space $C^0_0(\R)$ of complex-valued, continuous functions vanishing at infinity, which is a vectorspace over $\C$.
      Give $C^0_0(\R)$ the ``sup norm'' and its associated metric:
      \begin{align*}
        |f|_{C^0_0} &= \sup_{x\in\R}|f(x)|\\
        d(f,g) &= |f-g|_{C^0_0}
      \end{align*}
      It is trivial that the sup norm is positive-definite and obeys the triangle inequality, by properties of the absolute value and sup.
      Thus the following completes the proof that sup norm is in fact a norm:
      \begin{claim}
        The sup norm on $C^0_0(\R)$ is always finite.
        \begin{proof}
          Let $f\in C^0_0(\R)$, so it vanishes at infinity.
          Thus, given $\varepsilon>0$ we have $N>0$ such that $|x|>N\Rightarrow f(x)<\varepsilon$.
          This allows us to write
          \begin{align*}
            |f|_{C^0_0} &= \sup_{x\in\R}|f(x)|\\
            &= \max\left(\varepsilon,\,\sup_{|x|<N}|f(x)|\right)
          \end{align*}
          which is finite by the extreme value theorem.
        \end{proof}
      \end{claim}

      The simplicity of the following proof illustrates the naturalness of the sup norm applied to $C^0_0(\R)$.
      \todo{Why is this important?}
      \begin{claim}
        For $x\in\R$, the evaluation functional $C^0_0(\R)\rightarrow\C$ given by $f\mapsto f(x)$ is continuous.
        \begin{proof}
          Given $\varepsilon > 0$, $d(f,g)<\varepsilon \Rightarrow |f(x)-g(x)|<\varepsilon$ for all $x$, showing continuity.
  %        Given $\varepsilon > 0$, $d(f,g)<\varepsilon \Rightarrow |f(x)-g(x)|<\varepsilon$ because $\forall x$ $|f(x)-g(x)|\le\sup_{y\in\R}|f(y)-g(y)|=d(f,g)$.
  %        Thus the evaluation functional is continuous.
        \end{proof}
      \end{claim}

      Finally, we see that we have managed to construct a nicely behaved topological space:
      \begin{thm}
        \label{thm:c00complete}
        The space $C^0_0(\R)$ of continuous functions vanishing at infinity is \emph{complete}.
      \end{thm}
      \begin{proof}
        Consider a Cauchy sequence of $C^0_0$ functions $\{f_i\}$.
        First we will see that this sequence has a pointwise limit.

        Given $\varepsilon<0$ pick $N$ such that for $i,j>N$ we have $|f_i-f_j|<\varepsilon$.
        Then for any $x\in\R$, $|f_i(x)-f_j(x)|<\varepsilon$, and so the sequence of complex outputs $\{f_i(x)\}$ is Cauchy and has a limit $f(x)$.
        Thus the pointwise limit of $\{f_i\}$ is $f$.
       
        Now for $\varepsilon'>0$ take $j>N$ so that $|f_j(x)-f(x)|<\varepsilon'$.
        Then for $i>N$
        \begin{align*}
          |f_i(x)-f(x)|\le|f_i(x)-f_j(x)|+|f_j(x)-f(x)|<\varepsilon+\varepsilon'\text{.}
        \end{align*}
        Taking the limit as $\varepsilon'\rightarrow0$, we see $|f_i(x)-f(x)|<\varepsilon$ for \emph{all} $x$.
        Thus the convergence $\{f_i\}\rightarrow f$ is \emph{uniform} in $x$.
        Quoting the fact that the limit of continuous is continuous when convergence is uniform, we see that $f$ is continuous.\footnotemark

        It remains to show only that $f$ vanishes at infinity.
        Take $\varepsilon$ and $N$ as above, and fix some $i>N$.
        Then $|f_i(x)-f(x)|<\varepsilon$ for all $x$.
        Let $\varepsilon'>0$ and choose $M$ such that $|x|>M\Rightarrow |f_i(x)|<\varepsilon'$.
        Then
        \begin{align*}
          |f(x)|\le|f_i(x)-f(x)|+|f_i(x)|<\varepsilon+\varepsilon'\text{,}
        \end{align*}
        so for large $|x|$, we can make $f(x)$ arbitrarily small, and so $f\in C^0_0$.
      \end{proof}
      \footnotetext{This is easily verified by combining the inequalities above with the continuity of the $f_i$.}
      \begin{rmk}
        Thus, being complete with respect to the topology arising from a norm, $C^0_0(\R)$ is a \emph{Banach} space, by definition.
      \end{rmk}
      \begin{rmk}
        Note that this completeness is a consequence of our norm forcing sequences of functions to converge \emph{uniformly}.
        This is particularly important as pointwise limits of continuous functions need not be continuous!
      \end{rmk}

    \subsection{Spaces of differentiable functions}
      We now turn to the issue of \emph{differentiability}.
      For $k>0$ define the space 
      \begin{align*}
        C^k_0(\R) = \{f\in C^0_0(\R) : f'\in C^{k-1}_0(\R)\}
      \end{align*}
      Note that this definition requires that all $k+1$ derivatives $f,f',\ldots,f^{(k)}$ be $C^0_0$, and so they are \emph{all} continuous and vanish at infinity.
      Give $C^k_0(\R)$ the topology of the $C^k$-norm:
      \begin{align*}
        |f|_{C^k} = \sum_{0\le i\le k} |f^{(i)}|_{C^0} = \sum_{0\le i\le k} \sup_{x\in\R}|f^{(i)}(x)|
      \end{align*}
      Note that for $k=0$, this is exactly the $C^0$ norm.
      \begin{rmk}
        The $C^k$ norm (or ``sum~sup'' norm) gives the same topology as the ``sup~sup'' norm:
        \begin{align*}
          |f|=\sup_{0\le i\le k}|f^{(i)}|_{C^0_0}=\sup_{0\le i\le k}\sup_{x\in\R}|f^{(i)}(x)|
        \end{align*}
        because for complex numbers $a_1,\ldots,a_k$
        \begin{align*}
          \sup_i a_i \le \sum_i a_i \le (k-1) \sup_i a_i\text{.}
        \end{align*}
        Thus the two can be used interchangeably, as we are concerned only with the resultant topology.
      \end{rmk}
      \begin{rmk}
        \todo{differentiation: $C^k_0\rightarrow C^{k-1}_0$ is continuous}
      \end{rmk}
      \begin{thm}
        \label{thm:ck0complete}
        $C^k_0(\R)$ is complete in the $C^k$-norm topology.
      \end{thm}
      \begin{proof}
        Consider the case $k=1$; this will extend inductively to all $k$.
        Let $\{f_i\}$ be Cauchy in $C^k_0$.
        Because both sequences $\{f_i\}$ and $\{f_i'\}$ are in $C^0_0$, by definition of the $C^0_0$ (sup) norm and $C^k_0$ norm, each is Cauchy in $C^0_0$.
        Thus by \thref{thm:c00complete} each sequence converges uniformly pointwise, so we can write:
        \begin{align*}
          &f(x)=\lim_n f_i(x) &g(x)=\lim_n f_i'(x)
        \end{align*}
        We now hope to show that $f$ is differentiable, and so an element of $C^k_0$.
        Since each $f_i$ is continuous and differentiable, write
        \begin{align*}
          f_i(x)-f_i(a) = \int_a^x f_i'(t)\,dt
        \end{align*}
        Taking the limit, and exchanging limit and integral (by the Lebesgue Dominated Convergence Theorem)
        \begin{align*}
          \lim_i f_i(x)-f_i(a) &= \lim_i\int_a^x f_i'(t)\,dt\\
          &= \int_a^x\lim_if_i(t)\,dt\\
          f(x)-f(a) &= \int_a^x g(t)\,dt
        \end{align*}
        so by the fundamental theorem of calculus, $f'=g$, and so $f\in C^k_0$.
      \end{proof}

    \subsection{Spaces of decaying functions}
      Now consider the issue of \emph{decay}.
      Recall that Schwartz functions are \emph{rapidly decaying}, so their product with any power of $x$ vanishes at infinity.
      For $\ell\ge0$ define (for now)
      \begin{align*}
        C^0_\ell(\R) = \{f\in C^0_0(\R):(1+x^2)^\ell f(x)\in C^0_0\}
      \end{align*}
      with the norm:
      \begin{align*}
        |f| = |(1+x^2)^\ell f|_{C^0_0} = \sup_{x\in\R} |(1+x^2)^\ell f(x)|
      \end{align*}
      These definitions are slightly ugly -- secretly we want the $(1+x^2)$ to be an $x$, but importantly $(1+x^2)^\ell\ge1$ for all $x$ and $\ell$.
      As the next proof shows, this is important!
      Replacing $(1+x^2)^\ell$ with $x^\ell$ in the definition would allow our functions to be misbehaved near the origin, which would allow us to construct a non-convergent Cauchy sequence.
      \begin{thm}
        \label{thm:c0lcomplete}
        $C^0_\ell(\R)$ is complete in its topology.
      \end{thm}
      \begin{proof}
        Take a Cauchy sequence of $C^0_\ell$ functions $\{f_i\}$.
        Because each $f_i\in C^0_0$ we want to say that $\{f_i\}$ has a pointwise limit $f$ that itself is $C^0_0$, as in the proof of \thref{thm:c00complete}.
        However, this only holds if $\{f_i\}$ is Cauchy in $C^0_0$. 

        By hypothesis, given $\varepsilon>0$ there exists $N>0$ such that for all $i,j>N$
        \begin{align*}
          |(1+x^2)^\ell f_i - (1+x^2)^\ell f_j|_{C^0_0} < \varepsilon
        \end{align*}
        Calculate 
        \begin{align*}
          |(1+x^2)^\ell f_i - (1+x^2)^\ell f_j|_{C^0_0}
          &= \sup_{x\in\R}(1+x^2)^\ell|f_i(x)-f_j(x)|\\
          &\ge \sup_{x\in\R}|f_i(x)-f_j(x)|\\
          &= |f_i-f_j|_{C^0_0}
        \end{align*}
        So $|f_i-f_j|_{C^0_0}<\varepsilon$, and so $\{f_i\}\rightarrow f\in C^0_0$.
        Thus it remains only to show that $(1+x^2)^\ell f(x)$ is $C^0_0$.
        
        By hypothesis the sequence $\{(1+x^2)^\ell f_i\}$ in $C^0_0$ is Cauchy.
        Then it has a limit in $C^0_0$, say $g$.
        We hope that $g(x)=(1+x^2)^\ell f(x)$.
        For $\varepsilon>0$ use the fact that \emph{both} sequences are Cauchy to pick $i$ so that $|(1+x^2)^\ell f_i - g|<\varepsilon$ and $|f_i - f|<\varepsilon$.
        Then for all $x$ 
        \begin{align*}
          |g(x) - (1+x^2)^\ell f(x)| &\le |(1+x^2)^\ell f_i(x) - g(x)|+|(1+x^2)^\ell||f_i(x)-f(x)|\\
          &< \varepsilon + |(1+x^2)^\ell|\varepsilon
        \end{align*}
        Because $\varepsilon$ is arbitrarily small we can force $|g(x)-(1+x^2)^\ell f(x)|$ to become arbitrarily small for any $x$, and so we conclude that $g=(1+x^2)^\ell f$.
        \todo{make sure it's okay that this isn't uniform}
        Thus $(1+x^2)^\ell f$ is $C^0_0$, and so $f\in C^0_\ell$.
      \end{proof}

      With the basic cases proved, we now hope to define a Banach space that is parameterized by both smoothness and decay properties.
      We define
      \begin{align*}
        C^k_\ell(\R) = \{f\in C^k_0(\R):(1+x^2)^\ell f^{(i)}(x)\in C^{k-i}_0\text{ for all } i\le k\}
      \end{align*}
      with the norm
      \begin{align*}
        |f|_{C^k_\ell} = |(1+x^2)^\ell f|_{C^k} = \sum_{0\le i\le k} \sup_{x\in\R} |(1+x^2)^\ell f^{(i)}(x)|
      \end{align*}
      Note that for $k=0$, $C^k_\ell=C^0_\ell$, and their respective norms agree.
      \begin{thm}
        $C^k_\ell(\R)$ is complete in its topology.
      \end{thm}
      \begin{proof}
        Again we consider the case of $k=1$ and allow the argument to extend inductively.\todo{give this some attention to make it solid}

        Take $\{f_i\}$ to be Cauchy in $C^k_\ell$.

        We want to show that the sequence is Cauchy in another norm, as in \thref{thm:c0lcomplete}.
        By hypothesis, given $\varepsilon>0$ there exists $N>0$ such that for all $i,j>N$
        \begin{align*}
          |(1+x^2)^\ell f_i - (1+x^2)^\ell f_j|_{C^k} < \varepsilon
        \end{align*}
        Calculate
        \begin{align*}
          |(1+x^2)^\ell f_i - (1+x^2)^\ell f_j|_{C^k}
          &= \sum_{0\le h\le k}\sup_{x\in\R}(1+x^2)^\ell|f_i^{(h)}(x)-f_j^{(h)}(x)|\\
          &\ge \sum_{0\le h\le k}\sup_{x\in\R}|f_i^{(h)}(x)-f_j^{(h)}(x)|\\
          &= |f_i-f_j|_{C^k}
        \end{align*}
        Thus $\{f_i\}$ is Cauchy in $C^k_0$.
        From \thref{thm:ck0complete} we then see that $\{f_i\}$ is Cauchy in $C^k_0$ and so $\{f_i\}\rightarrow f$ in $C^k_0$ and $\{f_i'\}\rightarrow g$ in $C^{k-1}_0$ with $f'=g$.

        We now only need to show that $(1+x^2)^\ell f\in C^k_0$ and $(1+x^2)^\ell g\in C^{k-1}_0$.
        If we can show that $\{f_i\}$ is Cauchy in $C^0_\ell$ then we'll see that $(1+x^2)^\ell f\in C^0_0$ by \thref{thm:c0lcomplete}.
        Similarly, if we show that $\{f_i'\}$ is Cauchy in $C^0_\ell$, we'll see that $(1+x^2)^\ell g\in C^0_0$, and can use that fact to show that $(1+x^2)^\ell f$ is in fact in $C^k_0$.
        Calculate
        \begin{align*}
          |(1+x^2)^\ell f_i - (1+x^2)^\ell f_j|_{C^k}
          &= \sum_{0\le h\le k}\sup_{x\in\R}(1+x^2)^\ell|f_i^{(h)}(x)-f_j^{(h)}(x)|\\
          &\ge \sup_{x\in\R}(1+x^2)^\ell|f_i(x)-f_j(x)|
        \end{align*}
        which is exactly the norm of $f_i-f_j$ in $C^0_\ell$.
        The same inequality with first derivatives allows us to see that both sequences are indeed Cauchy in $C^0_\ell$, and so $(1+x^2)^\ell f$ and $(1+x^2)^\ell g$ are elements of $C^0_0$.

        Finally we calculate
        \begin{align*}
          \frac{d}{dx}(1+x^2)^\ell f(x)
          &= (1+x^2)^\ell f'(x) + \ell(1+x^2)^{\ell-1}2xf(x)\\
          &\le (1+x^2)^\ell g(x) + 2\ell(1+x^2)^\ell f(x)
        \end{align*}
        We have just shown that both summands are $C^0_0$, and so vanish at infinity.
        Thus, by the definition of $C^k_0$, $f\in C^k_0$, and so $C^k_\ell$ is complete in its topology, and thus Banach.
      \end{proof}

    \section{Limits of Topological Spaces}
      \todo{decide what belongs in an appendix}
      \todo{worry about convexity}
      
      \noindent
      In \autoref{sec:spcoffunc} we constructed a space of functions with \emph{arbitrarily} many derivatives and arbitrarily fast decay and showed that this space can be given the topological structure of a Banach space.
      We hope that this work will allow us to find useful topological structure for the space of Schwartz functions, which have \emph{infinitely} many derivatives and infinitely fast decay.
      This is exactly the process of taking a limit---we want to say $\S=\lim\limits_{k,\ell}C^k_\ell$, but this tells us nothing about the \emph{topology} of such a limit.
      Rather than laboriously \emph{construct} such a topology, we hope that by \emph{characterizing} the behaviour of the limit object we can see what the topology on \S must be.
      Thus we define the product by a mapping-property:
%
%      First we will define the \emph{product} of topological spaces; we will see that the \emph{limit} of objects will be a closed subspace of the corresponding product.
      \begin{defn}
        Consider a collection of non-empty topological sets $X_\alpha$, indexed by $\alpha\in A$, some (possibly uncountable) index set.
        The \emph{product} of the $X_\alpha$ is a topological space $X$ along with continuous \emph{projection maps} 
        \begin{align*}
          p_\alpha:X\longrightarrow X_\alpha
        \end{align*}
        such that for all topological spaces $Z$ with continuous maps $f_\alpha:Z\rightarrow X_\alpha$ there is a \emph{unique} continuous map 
        \begin{align*}
          f:Z\longrightarrow X
        \end{align*}
        satisfying $f_\alpha=p_\alpha\circ f$.
        (We say that $f_\alpha$ \emph{factors through} the $p_\alpha$ uniquely.)
      \end{defn}
      Pictorially, the definition of a product says that all triangles commute in the diagram
      \begin{displaymath}
        \xymatrix{
          && X \ar@/_/[dll] \ar@/_/[dl]^{p_\alpha} \ar@/^/[dr]_{p_\beta} \ar@/^/[drr] \\
          \cdots & X_\alpha && X_\beta & \cdots\\
          && Z \ar@/^/[ull] \ar@/^/[ul]_{f_\alpha} \ar@{-->}[uu]_f \ar@/_/[ur]^{f_\beta} \ar@/_/[urr]
         }
      \end{displaymath}

      \begin{claim}
        \label{claim:uniqprod}
        The product is \emph{unique}, up to (continuous) isomorphism.
        \begin{proof}
          Suppose we have a collection of topological spaces $X_\alpha$ and two products, $X$ with projection maps $p_\alpha$ and $Y$ with projection maps $q_\alpha$.
          Considering $X$ and putting $Y$ in the position of $Z$ from the definition we have a unique $q$ so that the triangles commute in
          \begin{displaymath}
            \xymatrix{
              && X \ar@/_/[dll] \ar@/_/[dl]^{p_\alpha} \ar@/^/[dr]_{p_\beta} \ar@/^/[drr] \\
              \cdots & X_\alpha && X_\beta & \cdots\\
              && Y \ar@/^/[ull] \ar@/^/[ul]_{q_\alpha} \ar@{-->}[uu]_q \ar@/_/[ur]^{q_\beta} \ar@/_/[urr]
             }
          \end{displaymath}
          so $q_\alpha=p_\alpha\circ q$.
          Reversing the positions of $X$ and $Y$ we have a unique $p:X\rightarrow Y$ so that $p_\alpha=q_\alpha\circ p$.
          Finally, we see that $p\circ q:X\rightarrow X$ makes the triangles commute in
          \begin{displaymath}
            \xymatrix{
              && X \ar@/_/[dll] \ar@/_/[dl]^{p_\alpha} \ar@/^/[dr]_{p_\beta} \ar@/^/[drr] \\
              \cdots & X_\alpha && X_\beta & \cdots\\
              && X \ar@/^/[ull] \ar@/^/[ul]_{p_\alpha} \ar@{-->}[uu]_{p\circ q} \ar@/_/[ur]^{p_\beta} \ar@/_/[urr]
             }
          \end{displaymath}
          Because $X$ is a product of the $X_\alpha$ by hypothesis, the map $p\circ q$ is unique.
          Because the identity mapping trivially satisfies the requirements for $p\circ q$, by uniqueness $p\circ q=id$, and so $p=q^{-1}$, and so $X$ and $Y$ are (continuously) isomorphic.
        \end{proof}
      \end{claim}

      Now that we have shown that our mapping-property definition gives a unique product, we hope to investigate properties of this product.
      From our definition, we hope that by considering various sets $Z$ and maps $f_\alpha$ we can learn about $X$.
      \todo{discussion around these proofs}
      \begin{claim}
        For $x,y\in X$, $x\ne y$, there is some $\alpha\in A$ such that $p_\alpha(x)\ne p_\alpha(y)$.
        \begin{proof}
          First, suppose that $p_\alpha(x)=p_\alpha(y)$ for all $\alpha$.
          Now let $Z$ be the one-element set $\{z\}$, and define $f_\alpha(z)=p_\alpha(x)$.
          By hypothesis, there exists some map $f:Z\rightarrow X$ satisfying $f_\alpha = p_\alpha \circ f$.
          Because maps from one-element sets are wholly determined by their images, we see that $p_\alpha(f(z))=f_\alpha(z)$, so $p_\alpha(f(z))=p_\alpha(x)$.
          But $f(z)=x$ \emph{and} $f(z)=y$ satisfy this condition, contradicting the uniqueness of the mapping $f$.
        \end{proof}
      \end{claim}

      \begin{claim}
        For any set $\{x_\alpha:\alpha\in A\}$ with $x_\alpha\in X_\alpha$ there exists some $x\in X$ such that $p_\alpha(x)=x_\alpha$ for all $\alpha$.
        \begin{proof}
          Again take the one-element set $Z=\{z\}$ with maps $f_\alpha(z)=x_\alpha$.
          Then $p_\alpha(f(z))=f_\alpha(z)=x_\alpha$.
          The element $x=f(z)$ is the desired one.
        \end{proof}
      \end{claim}
      
      Moving on, we hope to gain an understanding of the product as a \emph{set} before considering its topology.
      \begin{claim}
        As a \emph{set} the product of topological spaces is the normal (Cartesian) product
        \begin{align*}
          X = \{\{x_\beta:\beta\in A\}: x_\beta\in X_\beta\}
        \end{align*}
        with projections
        \begin{align*}
          p_\alpha(\{x_\beta:\beta\in A\}) = x_\alpha\text{.}
        \end{align*}
        \begin{proof}
          Consider a collection of $X_\alpha$.
          For a set $Z$ and some collection of maps $f_\alpha:Z\rightarrow X_\alpha$, the map $f:Z\rightarrow X$ given by
          \begin{align*}
            f(z) = \{f_\alpha(z):\alpha\in A\}
          \end{align*}
          will be compatible with the $p_\alpha$, and is visibly the only such map.
        \end{proof}
      \end{claim}

      \subsection{Product Topology}
        We now turn our attention to the \emph{topology} on a product of topological spaces.
        We hope that we can construct the appropriate topology on a product of spaces using only the topologies on those spaces and our mapping property definition.
        Recall that a map $f:A\rightarrow B$ is continuous iff the inverse image of open is open; that is, for any open $u\subseteq B$, the set
        \begin{align*}
          f^{-1}(u) = \{x\in A:f(x)\in P\}
        \end{align*}
        is open in $A$.

        Recall that our definition requires that all the maps be continuous.
        So, for any $u_\alpha$ open in $X_\alpha$, $p_\alpha^{-1}(u_\alpha)$ is open in $X$.
%        See that
%        \begin{align*}
%          p_\alpha^{-1}(u_\alpha)=\prod_{\beta\in A}
%          \begin{cases}
%            u_\alpha&\text{if }\alpha=\beta\\
%            X_\alpha&\text{if }\alpha\ne\beta
%          \end{cases}
%        \end{align*}
        Thus the topology on $X$ contains the topology generated by $\{p_\alpha^{-1}(u_\alpha):\alpha\in A\text{ and } u_\alpha\text{ open in }X_\alpha\}$.
        We say that the topology on $X$ is ``no coarser than'' this topology, as it cannot contain fewer sets.
        
        Now, given a family of continuous functions $f_\alpha:Z\rightarrow X_\alpha$, the (unique) induced map $f:Z\rightarrow X$ must be continuous, so for all $u$ open in $X$, $f^{-1}(u)$ is open in $Z$.
        Thus the topology on $X$ must be sufficiently coarse to satisfy $f^{-1}(u)$ being open in $Z$ for all $Z$ and $f$.
        Ideally, the topology given by the $X_\alpha$ is coarse enough to satisfy continuity of $f$.

        \begin{claim}
          The topology generated by 
          \begin{align*}
            \{p_\alpha^{-1}(u_\alpha):\alpha\in A\text{ and } u_\alpha\text{ open in }X_\alpha\}
          \end{align*}
          is coarse enough to be the product topology on $X$.
          \begin{proof}
            By the properties of inverse images it is sufficient to show that the inverse image of each element of the generating set is open in $Z$.
            Recall that $p_\alpha\circ f=f_\alpha$, so 
            \begin{align*}
              f^{-1}(p_\alpha^{-1}(u_\alpha)) = f_\alpha^{-1}(u_\alpha)
            \end{align*}
            See that each of the $f_\alpha$ are continuous, so for $u_\alpha$ open in $X_\alpha$, the set $f_\alpha^{-1}(u_\alpha)$ is open in $Z$.
            Thus each $f^{-1}(p_\alpha^{-1}(u_\alpha))$ is open in $Z$.
          \end{proof}
        \end{claim}

        \begin{rmk}
          The key point here was the \emph{existence} of a topology on the product that is consistent with our definition. 
          The topology generated from the $X_\alpha$ might have been \emph{too fine} for the map $f$ to be continuous, but we this is not the case.
          Having shown existence, the continuity of the isomorphism in \thref{claim:uniqprod} then shows that \emph{any} product with \emph{any}  topology (provided that it is consistent with the product definition) will be homeomorphic to the Cartesian product with the topology given above.
        \end{rmk}
\end{document}
